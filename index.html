<html>
  <head>
    <title>Nuxeo Platform Roadmap</title>
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <!-- comes from http://github.com/xxxx -->
    <script src="lib/js/JiraApi.js"></script>
    <script src="js/NuxeoRoadmap.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://www.nuxeo.com/wp-content/themes/nuxeo.com_wp/js/xnav_get.js" charset="utf-8"></script>
    <script type="text/javascript">
      window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
      window.analytics.load("4qquvje3fv");
      window.analytics.page("Nuxeo Roadmap");
    </script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/yeti/bootstrap.min.css">
    <!-- Custom nuxeo -->
    <link rel="stylesheet" href="css/nuxeo.css">
  </head>
  <body data-spy="scroll" data-target="#myScrollspy">
    <div class="row">
      <div class="jumbotron" >
      
      <div class="well col-lg-3">
          <h3>Key</h3>
          <p>
            <span class="label label-success ">Released</span>
            <span class="label label-info">Current iteration</span>
            <span class="label label-warning">Future iteration</span>
          </p>
          <p class="icolegend"> <img src='img/ft_.png'/> Fast Track &nbsp;&nbsp; <img src='img/lts_.png'/> Long Term Support</p>
        </div>
      
        <h1>Nuxeo Platform Roadmap</h1>
        <h2>Monitor the evolution of the platform!</h2>
        
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" id="placeholder"> 
      </div>
    </div>

  <script>
    var versionsIds;
    var ja = new JiraApi("https://jira.nuxeo.com", true);
    
    function fillUpVersions(data) {
    
        for (i = 0; i < versionsIds.length; i++) {
            ja.getVersion(function (data) {
                if (typeof (data.issues[0]) !== "undefined") {
                    if (typeof (data.issues[0].fields) !== "undefined") {
                        document.getElementById("version-" + data.issues[0].fields.fixVersions[0].id).innerHTML = formatRoadmapItemsList(data.issues);
                    }
                }
            }, "NXROADMAP", versionsIds[i]);
        }
    }

    ja.getVersions(function (data) {
        filteredData = filterOutUselessVersions(data);
        versionsIds = getListOfVersionIds(filteredData);
        document.getElementById("placeholder").innerHTML = formatVersions(filteredData);
        fillUpVersions()
    }, "NXROADMAP");

  </script>
  </body>
</html>
